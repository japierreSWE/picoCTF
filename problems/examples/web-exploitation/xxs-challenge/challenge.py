from hacksport.docker import DockerChallenge, Custom
import sqlite3

class Problem(DockerChallenge):

    def setup(self):
        conn = sqlite3.connect("html/tables.db")
        c = conn.cursor()
        
        #Create the table for users.
        c.execute("CREATE TABLE users (username text, password text, type text);")

        #Create the table we'll use for restrictions.
        c.execute("CREATE TABLE calledAPI (col integer);")

        conn.commit()
        conn.close()

        self.ports = {
                80: Custom("http://{host}:{{port}}", "Website")
                }

        self.initialize_docker({})